<div class="read-more-section">
  <div class="read-more-content">
    <p>
      {{ section.settings.read_more_text }}
    </p>
  </div>
  <button type="button" class="read-more-toggle" aria-expanded="false">Read More</button>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const toggleButton = document.querySelector('.read-more-toggle');
    const content = document.querySelector('.read-more-content');

    toggleButton.addEventListener('click', function () {
      const isExpanded = toggleButton.getAttribute('aria-expanded') === 'true';
      toggleButton.setAttribute('aria-expanded', !isExpanded);
      toggleButton.textContent = isExpanded ? 'Read More' : 'Read Less';
      content.style.maxHeight = isExpanded ? '100px' : 'none';
    });
  });
</script>

<style>
  .read-more-section {
    margin: 20px 0;
  }

  .read-more-content {
    max-height: 100px; /* Default height for collapsed state */
    overflow: hidden;
    transition: max-height 0.3s ease;
  }

  .read-more-toggle {
    display: inline-block;
    margin-top: 10px;
    padding: 10px 15px;
    background-color: #000;
    color: #fff;
    border: none;
    cursor: pointer;
  }

  .read-more-toggle:hover {
    background-color: #444;
  }
</style>

{% schema %}
{
  "name": "Read More Section",
  "settings": [
    {
      "type": "textarea",
      "id": "read_more_text",
      "label": "Text Content",
      "default": "This is the default text for the Read More section. You can replace it with your content."
    }
  ]
}
{% endschema %}
